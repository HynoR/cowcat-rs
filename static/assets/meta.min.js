(function(){function c(){const n={ts:Date.now(),env:{},webgl:null,canvas:null,storage:{}};try{n.env={ua:navigator.userAgent||null,lang:navigator.language||null,langs:navigator.languages||null,tz:Intl.DateTimeFormat().resolvedOptions().timeZone||null,screen:{w:screen.width,h:screen.height,aw:screen.availWidth,ah:screen.availHeight,dpr:window.devicePixelRatio||1}}}catch{}try{const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(e){const a=e.getExtension("WEBGL_debug_renderer_info");n.webgl={vendor:a?e.getParameter(a.UNMASKED_VENDOR_WEBGL):null,renderer:a?e.getParameter(a.UNMASKED_RENDERER_WEBGL):null,version:e.getParameter(e.VERSION),shading:e.getParameter(e.SHADING_LANGUAGE_VERSION)}}}catch{}try{const t=document.createElement("canvas");t.width=200,t.height=50;const e=t.getContext("2d");e.textBaseline="top",e.font="14px Arial",e.fillStyle="#f60",e.fillRect(0,0,200,50),e.fillStyle="#069",e.fillText("challenge-fp",2,2),e.fillStyle="rgba(102, 204, 0, 0.7)",e.fillText("challenge-fp",4,4);const a=t.toDataURL();let l=0;for(let o=0;o<a.length;o++)l=(l<<5)-l+a.charCodeAt(o),l|=0;n.canvas={hash:l,len:a.length}}catch{}try{const t="__fp_test__";localStorage.setItem(t,"1"),localStorage.removeItem(t),n.storage.localStorage=!0}catch{n.storage.localStorage=!1}try{document.cookie="fp_test=1;path=/",n.storage.cookie=document.cookie.indexOf("fp_test=")!==-1}catch{n.storage.cookie=!1}return window.__challenge_fp__=n,n}function s(n){try{return btoa(unescape(encodeURIComponent(n)))}catch(t){return console.warn("Failed to base64 encode meta payload:",t),""}}function r(){const n=c();return s(JSON.stringify(n))}function i(n){const t=r();return t?(console.log(t),fetch(n||"/__cowcatwaf/challenge/fp",{method:"POST",body:t,keepalive:!0})):Promise.resolve()}window.__cowcat_meta__={collect:c,collectBase64:r,send:i}})();
